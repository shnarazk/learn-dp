#!/usr/bin/env cbqn
lib â† â€¢Import "lib.bqn"

NewVariable â‡ {F init: 
  val â‡ init
  Data â‡ { ğ•¤ â‹„ val }
  Set â‡ { F v: val â†© v }
}

_asFunction â‡ { w _s:
  test â‡ 3
  Fn â‡ W
  Set â‡ { Fn â†© ğ• }
  Apply â‡ { Fn ğ•© }
}

x â† NewVariable 1
F â† (1âŠ¸+)_asFunction 
"f is a namespace"                    lib.Debug f
"f is a sort of function `f.Apply 3`" lib.Debug f.Apply 4
"f has a secret store `f.test`"       lib.Debug f.test
